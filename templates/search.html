<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body style="position: relative;">

    <p style="position: absolute; top: 150px;left:280px">IA1 Marks</p>
    <p style="position: absolute; top: 150px;left:600px">IA2 Marks</p>
    <p style="position: absolute; top: 150px;right:250px">IA3 Marks</p>

<section style = "position: absolute; left: 150px;">
    <p>USN:{{data.0.USN}}</p>
    <p>Sec:{{data.0.Sec}}</p>
    <p>Contact:{{data.0.Contact}}</p>
    <p>Semester:{{data.0.Semester}}</p>

</section>

    

    <div style="position: absolute;display: flex; flex-direction: row; top:200px;left: 150px;">
        <table style="width: 20px;left: 50px; top: 200px; border-collapse: collapse; margin-left: 20px;">
            <thead>
                <th style="padding: 12px; text-align: left; background-color: #f2f2f2;">Subject</th>
                <th style="padding: 12px; text-align: left; background-color: #f2f2f2;">Marks</th>
                <th style="padding: 12px; text-align: left; background-color: #f2f2f2;">Action</th>
            </thead>
            <tbody>
                {% for subject in subjects %}
                <tr>
                    <form action="submitresults" method="post">
                        <td style="padding: 12px; text-align: left;">{{ subject.Subjectcode }}</td>
                        {% if subject.Subjectcode in paramia1 %}
                        {% for row in Scoresia1 %}
                        {% if row.SubjectName == subject.Subjectcode %}
                        <td style="padding: 12px; text-align: left;">{{ row.Score }}</td>
                        <td style="padding: 12px; text-align: left;">
                            <p>Submitted</p>
                        </td>
                        {% endif %}
                        {% endfor %}
                        {% else %}
                        <td style="padding: 12px; text-align: left;"><input type="text" name="marks"
                                placeholder="Enter the marks"
                                style="width: 100%; padding: 5px; border: 1px solid #ddd;"></td>
                        <td style="padding: 12px; text-align: left;"><button type="submit"
                                style="background-color: #007bff; color: #fff; border: none; padding: 5px 10px; cursor: pointer;">Submit
                                {{ subject.Subjectcode }}</button></td>
                        {% endif %}
                        <input type="text" hidden="hidden" value="{{ data.0.USN }} " name="usn">
                        <input type="text" hidden="hidden" value="{{ subject.Subjectcode }} " name="subject">
                        <input type="text" hidden="hidden" value="IA1" name="internal">
                        <input type="text" hidden="hidden" value="False" name="inp">
                        {% csrf_token %}
                    </form>
                </tr>
                {% endfor %}
            </tbody>
        </table>


        <table style="width: 20px;right: 350px; top: 200px; border-collapse: collapse; margin-left: 80px;">
            <thead>
                <th style="padding: 12px; text-align: left; background-color: #f2f2f2;">Subject</th>
                <th style="padding: 12px; text-align: left; background-color: #f2f2f2;">Marks</th>
                <th style="padding: 12px; text-align: left; background-color: #f2f2f2;">Action</th>
            </thead>
            <tbody>
                {% for subject in subjects %}
                <tr>
                    <form action="submitresults" method="post">
                        <td style="padding: 12px; text-align: left;">{{ subject.Subjectcode }}</td>
                        {% if subject.Subjectcode in paramia2 %}
                        {% for row in Scoresia2 %}
                        {% if row.SubjectName == subject.Subjectcode %}
                        <td style="padding: 12px; text-align: left;">{{ row.Score }}</td>
                        <td style="padding: 12px; text-align: left;">
                            <p>Submitted</p>
                        </td>
                        {% endif %}
                        {% endfor %}
                        {% else %}
                        <td style="padding: 12px; text-align: left;"><input type="text" name="marks"
                                placeholder="Enter the marks"
                                style="width: 100%; padding: 5px; border: 1px solid #ddd;"></td>
                        <td style="padding: 12px; text-align: left;"><button type="submit"
                                style="background-color: #007bff; color: #fff; border: none; padding: 5px 10px; cursor: pointer;">Submit
                                {{ subject.Subjectcode }}</button></td>
                        {% endif %}
                        <input type="text" hidden="hidden" value="{{ data.0.USN }} " name="usn">
                        <input type="text" hidden="hidden" value="{{ subject.Subjectcode }} " name="subject">
                        <input type="text" hidden="hidden" value="IA2" name="internal">
                        <input type="text" hidden="hidden" value="False" name="inp">
                        {% csrf_token %}
                    </form>
                </tr>
                {% endfor %}
            </tbody>
        </table>


        <table style="width: 20px;right: 50px; top: 200px; border-collapse: collapse; margin-left: 80px;">

            <thead>
                <th style="padding: 12px; text-align: left; background-color: #f2f2f2;">Subject</th>
                <th style="padding: 12px; text-align: left; background-color: #f2f2f2;">Marks</th>
                <th style="padding: 12px; text-align: left; background-color: #f2f2f2;">Action</th>
            </thead>
            <tbody>
                {% for subject in subjects %}
                <tr>
                    <form action="submitresults" method="post">
                        <td style="padding: 12px; text-align: left;">{{ subject.Subjectcode }}</td>
                        {% if subject.Subjectcode in paramia3 %}
                        {% for row in Scoresia3 %}
                        {% if row.SubjectName == subject.Subjectcode %}
                        <td style="padding: 12px; text-align: left;">{{ row.Score }}</td>
                        <td style="padding: 12px; text-align: left;">
                            <p>Submitted</p>
                        </td>
                        {% endif %}
                        {% endfor %}
                        {% else %}
                        <td style="padding: 12px; text-align: left;"><input type="text" name="marks"
                                placeholder="Enter the marks"
                                style="width: 100%; padding: 5px; border: 1px solid #ddd;"></td>
                        <td style="padding: 12px; text-align: left;"><button type="submit"
                                style="background-color: #007bff; color: #fff; border: none; padding: 5px 10px; cursor: pointer;">Submit
                                {{ subject.Subjectcode }}</button></td>
                        {% endif %}
                        <input type="text" hidden="hidden" value="{{ data.0.USN }} " name="usn">
                        <input type="text" hidden="hidden" value="{{ subject.Subjectcode }} " name="subject">
                        <input type="text" hidden="hidden" value="IA3" name="internal">
                        <input type="text" hidden="hidden" value="False" name="inp">
                        {% csrf_token %}
                    </form>
                </tr>
                {% endfor %}
            </tbody>
        </table>

    </div>


    <spam style = "position: absolute; width: 300px;right: 150px;">
        <canvas id="myBarChart" ></canvas>
    </spam>
    
    <script>
        var ctx = document.getElementById('myBarChart').getContext('2d');
        var myBarChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: {{ test| safe }},
        datasets: [{
            label: 'Number of Items',
            data: {{ marksdata| safe }},
            backgroundColor: [
            'rgba(255, 99, 132, 0.2)',
            'rgba(54, 162, 235, 0.2)',
            'rgba(255, 206, 86, 0.2)',
            'rgba(75, 192, 192, 0.2)',
            'rgba(153, 102, 255, 0.2)',
        ],
            borderColor: [
            'rgba(255, 99, 132, 1)',
            'rgba(54, 162, 235, 1)',
            'rgba(255, 206, 86, 1)',
            'rgba(75, 192, 192, 1)',
            'rgba(153, 102, 255, 1)',
        ],
            borderWidth: 1
            }]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });
    </script>
</body>

</html>